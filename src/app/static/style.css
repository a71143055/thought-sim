:root{
    --bg-1: #071026;
    --bg-2: #0f1724;
    --surface: rgba(255,255,255,0.03);
    --card: rgba(255,255,255,0.02);
    --muted: #9aa4b2;
    --text: #e6eef8;
    --accent: #6ee7b7;
    --accent-2: #60a5fa;
    --glass: rgba(255,255,255,0.04);
    --glass-2: rgba(255,255,255,0.02);
    --radius: 14px;
    --shadow-lg: 0 12px 40px rgba(2,6,23,0.65);
    --shadow-sm: 0 6px 18px rgba(2,6,23,0.45);
    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Noto Sans Mono", monospace;
    --ui-sans: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", "Apple SD Gothic Neo", sans-serif;
    --glass-border: rgba(255,255,255,0.04);
    --success: #34d399;
    --danger: #fb7185;
    --transition-fast: 160ms;
    --transition-medium: 260ms;
}

/* Light theme overrides */
:root.light {
    --bg-1: #f6f8fb;
    --bg-2: #eef2f7;
    --surface: rgba(2,6,23,0.03);
    --card: rgba(2,6,23,0.02);
    --muted: #4b5563;
    --text: #0b1220;
    --glass: rgba(11,18,32,0.03);
    --glass-2: rgba(11,18,32,0.02);
    --glass-border: rgba(11,18,32,0.04);
    --shadow-lg: 0 12px 40px rgba(11,18,32,0.06);
    --shadow-sm: 0 6px 18px rgba(11,18,32,0.04);
}

/* Base reset */
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:var(--ui-sans);background:linear-gradient(180deg,var(--bg-1),var(--bg-2));color:var(--text);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
a{color:inherit;text-decoration:none}

/* Container */
.app{
    max-width:1120px;
    margin:44px auto;
    padding:28px;
    display:grid;
    grid-template-columns: 1fr 420px;
    gap:24px;
    border-radius:calc(var(--radius) + 4px);
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
    border:1px solid var(--glass-border);
    box-shadow:var(--shadow-lg);
    align-items:start;
    transition: box-shadow var(--transition-medium), transform var(--transition-medium);
}

/* Header */
header{grid-column:1 / -1;display:flex;align-items:center;justify-content:space-between;gap:16px;margin-bottom:6px}
header h1{margin:0;font-size:1.45rem;font-weight:700;letter-spacing:-0.02em}
header p{margin:0;color:var(--muted);font-size:0.95rem}

/* Left panel */
.input{
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
    padding:18px;border-radius:var(--radius);border:1px solid var(--glass-border);
    box-shadow:var(--shadow-sm);
    display:flex;flex-direction:column;gap:12px;min-height:240px;
}

/* Textarea */
textarea#thoughtInput{
    width:100%;min-height:160px;max-height:520px;padding:16px 18px;font-size:1rem;line-height:1.6;
    color:var(--text);background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
    border:1px solid rgba(255,255,255,0.03);border-radius:12px;resize:vertical;outline:none;
    box-shadow: inset 0 2px 10px rgba(2,6,23,0.35);
    transition: box-shadow var(--transition-fast), transform var(--transition-fast), border-color var(--transition-fast);
    caret-color: var(--accent);
}
textarea#thoughtInput::placeholder{color:rgba(255,255,255,0.28)}
textarea#thoughtInput:focus{
    border-color: rgba(110,231,183,0.95);
    box-shadow: 0 10px 30px rgba(96,165,250,0.06), inset 0 2px 12px rgba(2,6,23,0.5);
    transform: translateY(-2px);
}

/* Controls */
.controls{display:flex;gap:10px;align-items:center}
.btn{
    display:inline-flex;align-items:center;gap:10px;padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:700;
    color:var(--card);background:linear-gradient(90deg,var(--accent),var(--accent-2));box-shadow:0 8px 24px rgba(96,165,250,0.08);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast), opacity var(--transition-fast);
}
.btn.secondary{
    background:transparent;color:var(--muted);border:1px solid var(--glass-border);box-shadow:none;font-weight:600;
}
.btn:hover{transform:translateY(-4px)}
.btn:active{transform:translateY(0);opacity:0.95}
.btn svg{width:16px;height:16px;fill:currentColor}

/* Right panel */
.output{
    padding:18px;border-radius:var(--radius);border:1px solid var(--glass-border);
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
    box-shadow:var(--shadow-sm);display:flex;flex-direction:column;gap:12px;min-height:320px;
}
.output h2{margin:0;font-size:1.05rem}
.output .meta{color:var(--muted);font-size:0.9rem}

/* Result area with animated highlight */
.output pre#resultArea{
    background: linear-gradient(180deg, rgba(2,6,23,0.6), rgba(2,6,23,0.5));
    color:var(--text);padding:14px;border-radius:10px;overflow:auto;font-family:var(--mono);font-size:0.92rem;line-height:1.5;
    border:1px solid rgba(255,255,255,0.02);box-shadow:0 10px 30px rgba(2,6,23,0.6);flex:1;position:relative;
    transition: transform var(--transition-medium), box-shadow var(--transition-medium);
}
.output pre#resultArea::after{
    content:"";position:absolute;inset:0;border-radius:10px;
    background:linear-gradient(90deg, rgba(110,231,183,0.02), rgba(96,165,250,0.02));
    pointer-events:none;mix-blend-mode:overlay;opacity:0;transition:opacity var(--transition-medium);
}
.output.pre-highlight pre#resultArea{ transform: translateY(-4px); box-shadow: 0 18px 48px rgba(2,6,23,0.7) }
.output.pre-highlight pre#resultArea::after{ opacity:1 }

/* Floating action button for quick export */
.fab{
    position:fixed;right:28px;bottom:28px;width:56px;height:56px;border-radius:999px;
    display:inline-grid;place-items:center;background:linear-gradient(180deg,var(--accent),var(--accent-2));
    color:var(--card);box-shadow:0 14px 40px rgba(96,165,250,0.12);border:1px solid rgba(255,255,255,0.04);cursor:pointer;z-index:60;
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}
.fab:hover{transform:translateY(-6px);box-shadow:0 20px 60px rgba(96,165,250,0.16)}
.fab:active{transform:translateY(-2px)}

/* Small key value list */
.kv{display:flex;gap:10px;align-items:center;color:var(--muted);font-size:0.9rem}
.kv strong{color:var(--text);font-weight:700}

/* Subtle divider */
.hr{height:1px;background:linear-gradient(90deg, transparent, var(--glass-border), transparent);border-radius:2px;margin:6px 0}

/* Tiny badges */
.badge{
    display:inline-block;padding:6px 10px;border-radius:999px;background:linear-gradient(90deg, rgba(110,231,183,0.06), rgba(96,165,250,0.06));
    color:var(--accent);font-weight:700;font-size:0.85rem;border:1px solid rgba(255,255,255,0.02)
}

/* Scrollbar styling */
::-webkit-scrollbar{height:10px;width:10px}
::-webkit-scrollbar-thumb{background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));border-radius:999px}
::-webkit-scrollbar-track{background:transparent}

/* Accessibility reduced motion */
@media (prefers-reduced-motion: reduce){
    *{transition:none!important;animation:none!important}
}

/* Responsive */
@media (max-width: 980px){
    .app{grid-template-columns:1fr;padding:18px;gap:14px}
    .output{order:2}
    .input{order:1}
    .fab{right:18px;bottom:18px}
}

/* Utility classes */
.hidden{display:none!important}
.center{display:flex;align-items:center;justify-content:center}

/* Micro animation for new artifact flash */
@keyframes flashIn {
    0%{opacity:0;transform:translateY(6px) scale(0.995)}
    60%{opacity:1;transform:translateY(-2px) scale(1.002)}
    100%{opacity:1;transform:translateY(0) scale(1)}
}
.artifact-row{animation: flashIn 420ms cubic-bezier(.2,.9,.3,1)}

/* Focus ring for keyboard users */
:focus{outline:none}
:focus-visible{outline:3px solid rgba(96,165,250,0.14);outline-offset:3px;border-radius:8px}

/* Small helper for inline code */
.code-inline{font-family:var(--mono);background:rgba(255,255,255,0.02);padding:4px 8px;border-radius:6px;border:1px solid rgba(255,255,255,0.02);font-size:0.9rem}
